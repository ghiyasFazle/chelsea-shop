{% load humanize %}

<div style="position: absolute; top: 20px; right: 20px;">
  <a href="{% url 'main:logout' %}">
    <button style="padding:8px 16px; background-color:#034694; color:white; border:none; border-radius:6px; cursor:pointer;">
      Logout
    </button>
  </a>
</div>



<div style="display:flex; align-items:center; justify-content:center; gap:5px; margin-bottom:10px;">
  <img src="https://upload.wikimedia.org/wikipedia/en/c/cc/Chelsea_FC.svg" width="50">
  <h1 style="color:#034694; text-align:center; margin:0;">Chelsea Shop</h1>
</div>


<div style="background:#034694; color:white; padding:15px; border-radius:10px; width:30%; margin-left:5px; margin-top:15px; margin-bottom:20px ; font-size:14px;">
  <h5 style="margin:5px 0;">NPM:</h5>
  <p style="margin:5px 0;">{{ npm }}</p>
  <h5 style="margin:5px 0;">Name:</h5>
  <p style="margin:5px 0;">{{ name }}</p>
  <h5 style="margin:5px 0;">Class:</h5>
  <p style="margin:5px 0;">{{ class }}</p>
  <h5 style="margin:5px 0;">Project Name:</h5>
  <p style="margin:5px 0;">{{ project }}</p>
</div>

<h5 style="margin-left: 5px; color: #000a64;">Sesi terakhir login: {{ last_login }}</h5>

<a href="{% url 'main:create_product' %}" style="text-decoration: none;">
  <button style="background:#034694; color:white; border:none; padding:10px 20px; border-radius:8px; cursor:pointer;">
    + Add Product
  </button>
</a>

<a href="?filter=all"style="text-decoration: none;">
  <button style="background:#034694; color:white; border:none; padding:10px 20px; border-radius:8px; cursor:pointer;">
    All Products
  </button>
</a>

<a href="?filter=my"style="text-decoration: none;">
  <button style="background:#034694; color:white; border:none; padding:10px 20px; border-radius:8px; cursor:pointer;">
    My Products
  </button>
</a>

<hr>

{% if not product_list %}
<p>Belum ada data barang pada shop.</p>
{% else %}

<div style="display:flex; flex-wrap:wrap; gap:20px; margin:20px;">
{% for product in product_list %}
<div style="border:1px solid #ccc; padding:15px; margin:15px 0 15px 20px; border-radius:10px; width:26%; background-color:#034694;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2); transition:0.3s;">
  <h2 style="color:#034694;">
    <a href="{% url 'main:show_product' product.id %}" style="text-decoration:none; color:#ffffff; font-family: Trebuchet MS, sans-serif;">
      {{ product.name }}
    </a>
  </h2>

  <p style="color:#ffffff;font-family: Arial,sans-serif;">
    <b>{{ product.get_category_display }}</b>
    {% if product.is_featured %} | <b>Featured</b>{% endif %}
    | <b>Stock:</b> {{ product.stock }}
    | <b>Price:</b> Rp {{ product.price|intcomma }}
  </p>

  {% if product.thumbnail %}
  <img src="{{ product.thumbnail }}" alt="thumbnail" width="250" height="250" style="border-radius:8px;">
  <br />
  {% endif %}

  <p style="color:#ffffff;font-family: Arial,sans-serif;">{{ product.description|truncatewords:25 }}...</p>

  <p>
    <a href="{% url 'main:show_product' product.id %}">
      <button style="background:#ffffff; color:#000a64; border:none; padding:8px 16px; border-radius:6px; cursor:pointer;">
        Read More
      </button>
    </a>
  </p>
</div>


{% endfor %}

{% endif %}
